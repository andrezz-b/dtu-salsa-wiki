---
import { humanize } from "@/lib/utils/textConverter";
import Badge from "@/components/Badge.astro";

import { type CollectionEntry } from "astro:content";

interface Props {
  entry: CollectionEntry<"moves"> | CollectionEntry<"concepts">;
}

const { entry } = Astro.props;
const { title, type, level } = entry.data;
const { collection, id } = entry;
---

<a
  href={`/${collection}/${id}`}
  class="group block h-full p-4 bg-white dark:bg-darkmode-light rounded-lg border border-border dark:border-darkmode-border hover:border-accent/50 dark:hover:border-darkmode-accent/50 hover:shadow-md transition-all duration-300"
>
  <div class="flex flex-col h-full justify-between">
    <div>
      <div class="flex items-center justify-between mb-2">
        {
          type && (
            <span class="text-xs font-medium uppercase tracking-wider text-text-light dark:text-darkmode-text-light">
              {humanize(type)}
            </span>
          )
        }
        {
          level && (
            <Badge
              label={level}
              type={
                level === "beginner" ? "success" : level === "intermediate" ? "warning" : "danger"
              }
              className="text-[10px] px-2 py-0.5"
            />
          )
        }
      </div>
      <h4
        class="h6 group-hover:text-accent dark:group-hover:text-darkmode-accent transition-colors"
      >
        {humanize(title)}
      </h4>
    </div>
  </div>
</a>
